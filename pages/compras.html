<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Chelina Hub â€¢ Compras</title>

  <!-- Reusa tu CSS existente del Hub (igual que Clientes) -->
  <link rel="stylesheet" href="../assets/css/hub.css" />
</head>

<body>
  <!-- Fondo aurora (mismo patrÃ³n que tu index / clientes) -->
  <div class="bg-aurora" aria-hidden="true"></div>
  <div class="bg-vignette" aria-hidden="true"></div>

  <!-- TOPBAR -->
  <header class="topbar">
    <div class="brand">
      <div class="brand__logo" aria-hidden="true">ğŸ§¾</div>
      <div class="brand__text">
        <div class="brand__title">Compras</div>
        <div class="brand__subtitle">Registro, seguimiento y anÃ¡lisis del flujo comercial Chelina</div>
      </div>
    </div>

    <div class="topbar__actions">
      <a class="btn btn--ghost" href="../index.html">â† Volver</a>
      <a class="btn btn--primary" href="#registrar">â• Registrar compra</a>
    </div>
  </header>

  <main class="container">

    <!-- 1) HERO / MINI GOOGLE -->
    <section class="card card--hero" style="margin-bottom:14px;">
      <div class="hero__left">
        <h1 style="margin:0 0 6px;">Mini Google â€¢ Compras</h1>
        <p style="margin:0 0 12px;" class="muted">
          Busca por <strong>ID de compra</strong>, <strong>cliente</strong> o <strong>producto</strong>.
          <span class="muted">(Hoy: demo visual. Luego: search-index.json)</span>
        </p>

        <div class="search">
          <input id="qCompras" type="search" placeholder="Ej: CH-0049 / Petronila / Mary Jane..." autocomplete="off" />
          <button class="btn btn--ghost" type="button" id="btnBuscarCompras">Buscar</button>
        </div>

        <div class="hero__hint">
          Tip: en la demo mostramos resultados simulados; despuÃ©s se conecta al Ã­ndice JSON.
        </div>

        <!-- Resultados demo -->
        <div id="resCompras" style="margin-top:12px;"></div>
      </div>

      <div class="hero__right">
        <div class="mini-note" style="margin-bottom:10px;">
          <div class="mini-note__title">Objetivo del panel</div>
          <div class="mini-note__body">
            Ver el pulso operativo: recientes, anÃ¡lisis rÃ¡pido, exploraciÃ³n por cronologÃ­a y acciones.
          </div>
        </div>

        <div class="mini-note">
          <div class="mini-note__title">Estado del embudo (contexto)</div>
          <div class="mini-note__body muted">
            AquÃ­ luego podemos mostrar totales â€œen calienteâ€ (Nuevos/ConversiÃ³n/Fidelizados/Inactivos).
          </div>
        </div>
      </div>
    </section>

    <!-- 2) KPI SNAPSHOT -->
    <section class="card" style="padding:16px; margin-bottom:14px;">
      <div style="display:flex; align-items:end; justify-content:space-between; gap:12px; flex-wrap:wrap;">
        <div>
          <h2 style="margin:0 0 4px;">Estado rÃ¡pido de compras</h2>
          <div class="muted" style="font-size:12.5px;">KPIs demo (luego alimentados por dashboard.json / Registro Compra)</div>
        </div>
        <div class="muted" style="font-size:12.5px;">Ãšltima actualizaciÃ³n: â€”</div>
      </div>

      <div class="mini-kpis" style="margin-top:12px;">
        <div class="kpi">
          <div class="kpi__label">ğŸ›’ Compras esta semana</div>
          <div class="kpi__value">â€”</div>
        </div>
        <div class="kpi">
          <div class="kpi__label">ğŸ’° Monto total</div>
          <div class="kpi__value">â€”</div>
        </div>
        <div class="kpi">
          <div class="kpi__label">ğŸŒ PaÃ­s lÃ­der</div>
          <div class="kpi__value">â€”</div>
        </div>
        <div class="kpi">
          <div class="kpi__label">âš¡ Pago dominante</div>
          <div class="kpi__value">â€”</div>
        </div>
      </div>
    </section>

    <!-- 3 + 4) BLOQUES PRINCIPALES -->
    <section class="grid" style="grid-template-columns: 1.2fr .8fr; gap:14px;">

      <!-- 3) IZQUIERDA: COMPRAS RECIENTES -->
      <article class="card">
        <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;">
          <div>
            <h2 style="margin:0 0 4px;">Compras recientes</h2>
            <div class="muted" style="font-size:12.5px;">
              Replica tu vista â€œÃºltimos 7 dÃ­asâ€. <span class="muted">(Hoy: demo visual)</span>
            </div>
          </div>
          <span class="tag">Recientes</span>
        </div>

        <!-- Lista ligera -->
        <div id="listaCompras" style="margin-top:12px; display:grid; gap:10px;">
          <!-- Item 1 -->
          <div class="card" style="padding:12px; border-radius:16px;" data-id="CH-0049" data-cliente="Petronila GÃ³mez" data-producto="Tenis Bomb">
            <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;">
              <div>
                <div style="font-weight:850;">CH-0049 Â· Petronila GÃ³mez</div>
                <div class="muted" style="font-size:12.5px;">Producto: Tenis Bomb â€¢ Monto: $25</div>
              </div>
              <div style="text-align:right;">
                <div class="tag">Binance</div>
                <div class="muted" style="font-size:12.5px; margin-top:4px;">04 May 2025</div>
              </div>
            </div>
          </div>

          <!-- Item 2 -->
          <div class="card" style="padding:12px; border-radius:16px;" data-id="CH-0048" data-cliente="MarÃ­a F. R." data-producto="Mary Jane Reptil">
            <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;">
              <div>
                <div style="font-weight:850;">CH-0048 Â· MarÃ­a F. R.</div>
                <div class="muted" style="font-size:12.5px;">Producto: Mary Jane Reptil â€¢ Monto: $40</div>
              </div>
              <div style="text-align:right;">
                <div class="tag">Zelle</div>
                <div class="muted" style="font-size:12.5px; margin-top:4px;">03 May 2025</div>
              </div>
            </div>
          </div>

          <!-- Item 3 -->
          <div class="card" style="padding:12px; border-radius:16px;" data-id="CH-0047" data-cliente="Andrea P." data-producto="MocasÃ­n Boutique">
            <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;">
              <div>
                <div style="font-weight:850;">CH-0047 Â· Andrea P.</div>
                <div class="muted" style="font-size:12.5px;">Producto: MocasÃ­n Boutique â€¢ Monto: $35</div>
              </div>
              <div style="text-align:right;">
                <div class="tag">Pago MÃ³vil</div>
                <div class="muted" style="font-size:12.5px; margin-top:4px;">29 Abr 2025</div>
              </div>
            </div>
          </div>
        </div>

        <div class="card__footer" style="margin-top:14px;">
          <span class="muted">Click â†’ detalle (futuro). Hoy: demo / placeholder.</span>
          <a class="btn btn--secondary" href="#" id="btnVerMasCompras">Ver mÃ¡s</a>
        </div>
      </article>

      <!-- 4) DERECHA: EXPLORAR -->
      <aside style="display:grid; gap:14px;">

        <!-- 4A) Por periodo -->
        <article class="card">
          <div style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
            <h2 style="margin:0;">Explorar por periodo</h2>
            <span class="tag">CronologÃ­a</span>
          </div>

          <div style="margin-top:12px; display:grid; gap:12px;">
            <div class="card" style="padding:12px; border-radius:16px;">
              <div style="font-weight:850;">ğŸ“† Por mes</div>
              <ul class="list" style="margin-top:8px;">
                <li><a href="#" data-toast="Abril 2025 (demo)">Abril 2025</a></li>
                <li><a href="#" data-toast="Marzo 2025 (demo)">Marzo 2025</a></li>
                <li><a href="#" data-toast="Febrero 2025 (demo)">Febrero 2025</a></li>
              </ul>
            </div>

            <div class="card" style="padding:12px; border-radius:16px;">
              <div style="font-weight:850;">ğŸ—‚ï¸ Por semana</div>
              <ul class="list" style="margin-top:8px;">
                <li><a href="#" data-toast="Semana 18 Â· 2025 (demo)">Semana 18 Â· 2025</a></li>
                <li><a href="#" data-toast="Semana 17 Â· 2025 (demo)">Semana 17 Â· 2025</a></li>
                <li><a href="#" data-toast="Semana 16 Â· 2025 (demo)">Semana 16 Â· 2025</a></li>
              </ul>
            </div>
          </div>
        </article>

        <!-- 4B) Resumen comparativo -->
        <article class="card">
          <div style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
            <h2 style="margin:0;">Resumen comparativo (7 dÃ­as)</h2>
            <span class="tag">Insights</span>
          </div>
          <div class="muted" style="font-size:12.5px; margin-top:6px;">
            Mini panel por paÃ­s / pago (luego data real).
          </div>

          <div style="margin-top:12px; display:grid; gap:10px;">
            <div class="card" style="padding:12px; border-radius:16px;">
              <div style="display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;">
                <strong>ğŸ‡»ğŸ‡ª Venezuela</strong>
                <span class="muted">â€” compras</span>
              </div>
            </div>

            <div class="card" style="padding:12px; border-radius:16px;">
              <div style="display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;">
                <strong>ğŸ‡¨ğŸ‡´ Colombia</strong>
                <span class="muted">â€” compras</span>
              </div>
            </div>

            <div class="card" style="padding:12px; border-radius:16px;">
              <div style="display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;">
                <strong>âš¡ MÃ©todo top</strong>
                <span class="muted">â€”</span>
              </div>
            </div>
          </div>

          <div class="muted" style="font-size:12.5px; margin-top:12px;">
            Nota: el â€œcomparativo por paÃ­sâ€ vive perfecto aquÃ­; los rankings mÃ¡s pesados van en Reportes.
          </div>
        </article>

      </aside>
    </section>

    <!-- 5) BLOQUE INFERIOR -->
    <section class="grid" style="grid-template-columns: 1fr 1fr; gap:14px; margin-top:14px;">

      <!-- 5A Acciones -->
      <article class="card" id="registrar">
        <div style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
          <h2 style="margin:0;">Acciones</h2>
          <span class="tag">OperaciÃ³n</span>
        </div>

        <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
          <a class="btn btn--primary" href="#" id="btnRegistrarCompra">â• Registrar nueva compra</a>
          <a class="btn btn--secondary" href="#" id="btnExportarCompras">ğŸ“¤ Exportar compras (futuro)</a>
          <a class="btn btn--ghost" href="./reportes.html">ğŸ“Š Ver reportes detallados</a>
        </div>

        <div class="muted" style="font-size:12.5px; margin-top:12px;">
          ExportaciÃ³n y reportes se conectarÃ¡n a Drive/Sheets sin duplicar archivos.
        </div>
      </article>

      <!-- 5B Tips -->
      <article class="card">
        <div style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
          <h2 style="margin:0;">Tips de uso</h2>
          <span class="tag">Soporte</span>
        </div>

        <ul class="list" style="margin-top:12px;">
          <li>Revisa siempre <strong>mÃ©todo de pago</strong> y <strong>monto</strong> antes de cerrar semana.</li>
          <li>Usa â€œExplorar por semanaâ€ para evitar duplicados y mantener el criterio del CRM.</li>
          <li>Si una compra requiere gestiÃ³n extra, mÃ¡rcala como â€œPor enviarâ€ (fase futura).</li>
        </ul>

        <div class="muted" style="font-size:12.5px; margin-top:12px;">
          Reduce fricciÃ³n para el equipo y mantiene el criterio operativo claro.
        </div>
      </article>

    </section>

    <footer class="footer" style="margin-top:18px;">
      <span class="muted">Chelina Hub Web â€¢ Compras</span>
      <span class="muted">â€”</span>
      <span class="muted">Demo visual estilo Freepik (listas ligeras + cards)</span>
    </footer>
  </main>

  <!-- JS mÃ­nimo demo (igual filosofÃ­a que Clientes) -->
  <script>
    const toast = (msg) => alert(msg);

    // Buscar (demo)
    document.getElementById("btnBuscarCompras")?.addEventListener("click", () => {
      const q = (document.getElementById("qCompras")?.value || "").trim().toLowerCase();
      if (!q) return toast("Escribe un ID, cliente o producto para buscar ğŸ™‚");

      const cards = Array.from(document.querySelectorAll("#listaCompras [data-id]"));
      const hits = cards.filter(c => {
        const id = (c.dataset.id || "").toLowerCase();
        const cli = (c.dataset.cliente || "").toLowerCase();
        const pro = (c.dataset.producto || "").toLowerCase();
        return id.includes(q) || cli.includes(q) || pro.includes(q);
      });

      const box = document.getElementById("resCompras");
      box.innerHTML = "";

      const info = document.createElement("div");
      info.className = "muted";
      info.style.fontSize = "12.5px";
      info.style.marginTop = "10px";
      info.textContent = `Resultados (demo): ${hits.length}`;
      box.appendChild(info);

      if (!hits.length) {
        const empty = document.createElement("div");
        empty.className = "muted";
        empty.style.marginTop = "8px";
        empty.textContent = "Sin resultados en la demo. (Luego se conecta a search-index.json)";
        box.appendChild(empty);
        return;
      }

      const list = document.createElement("div");
      list.style.display = "grid";
      list.style.gap = "10px";
      list.style.marginTop = "10px";

      hits.slice(0, 6).forEach(h => {
        const item = document.createElement("a");
        item.href = "#";
        item.className = "card";
        item.style.padding = "12px";
        item.style.borderRadius = "16px";
        item.style.display = "block";
        item.innerHTML = `
          <div style="display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;">
            <strong>${h.dataset.id}</strong>
            <span class="muted">${h.dataset.cliente}</span>
          </div>
          <div class="muted" style="font-size:12.5px;margin-top:4px;">${h.dataset.producto}</div>
        `;
        item.addEventListener("click", (e) => {
          e.preventDefault();
          toast(`Demo: abrir compra ${h.dataset.id} (placeholder)`);
        });
        list.appendChild(item);
      });

      box.appendChild(list);
    });

    // Ver mÃ¡s (demo)
    document.getElementById("btnVerMasCompras")?.addEventListener("click", (e) => {
      e.preventDefault();
      toast("Demo: ver mÃ¡s compras (luego paginaciÃ³n desde JSON/Sheet).");
    });

    // Acciones (demo)
    document.getElementById("btnRegistrarCompra")?.addEventListener("click", (e) => {
      e.preventDefault();
      toast("Demo: abrir formulario Registrar Compra.");
    });

    document.getElementById("btnExportarCompras")?.addEventListener("click", (e) => {
      e.preventDefault();
      toast("Demo: exportar compras (futuro).");
    });

    // Links demo con data-toast
    document.querySelectorAll("[data-toast]")?.forEach(a => {
      a.addEventListener("click", (e) => {
        e.preventDefault();
        toast(a.getAttribute("data-toast"));
      });
    });
  </script>
</body>
</html>
